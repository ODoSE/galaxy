<tool id="divergence_select_taxa" name="Select taxa">
	<description>from Complete Microbial Genomes table</description>
	<requirements>
		<requirement type="python-module">divergence</requirement>
	</requirements>
	<code file="select_taxa.py"/>
	<command interpreter="python">wrapper.py divergence.select_taxa $logfile
#if $genomes.value
--genomes $genomes
#end if

#if $previousfile.dataset
--previous-file $previousfile
#end if

$requireptt

--genomes-file $genomesfile
</command>
	<inputs>
		<param name="genomes" type="select" display="checkboxes" multiple="true" optional="true" force_select="false" 
		label="Choose Genomes" help="Select between two and forty genomes for analysis." dynamic_options="get_complete_genomes()"/>
		<param format="tabular" name="previousfile" type="data" label="Previous GenBank Project IDs" optional="true">
			<help>From a previous run or externally created/modified file.</help>
		</param>
		<param name="requireptt" type="boolean" checked="true" truevalue="--require-protein-table" falsevalue="">
			<label>Require protein table files be present</label>
			<help>These tables contain COGs assigned to coding sequences.</help>
		</param>
	</inputs>
	<outputs>
		<data format="txt" name="logfile" label="Logfile for ${tool.name}" />
		<data format="tabular" name="genomesfile" label="Genome GenBank Project IDs" />
	</outputs>
	<help>
This tool allows you to select genomes for analysis in the Genome-wide signatures of adaptive divergence pipeline.

No fewer than two and no more than forty genomes may be selected.
</help>
</tool>

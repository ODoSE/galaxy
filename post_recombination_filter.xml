<tool id="divergence_post_recombination_filter" name="Post recombination step">
    <description>to split out orthologs per genome, create concatemer &amp; produce tree</description>
    <requirements>
        <requirement type="python-module">divergence</requirement>
    </requirements>
    <command interpreter="python">wrapper.py divergence.post_recombination_filter logfile
--retained-orthologs-zip $retainedorthologs
--unfiltered-taxon-a $unfiltereda
--unfiltered-taxon-b $unfilteredb

--orthologs-per-genome $orthologspergenome
--concatemer $concatemerfasta
--tree tree.pdf
</command>
    <inputs>
        <param type="data" format="projectids" name="unfiltereda" label="Taxon A IDs" />
        <param type="data" format="projectids" name="unfilteredb" label="Taxon B IDs" />
        <param type="data" format="orthologs.zip" name="retainedorthologs" label="Retained orthologs" />
    </inputs>
    <outputs>
        <data format="dna.zip" name="orthologspergenome" label="Orthologs per genome post-recombination filter" />
        <data format="fasta" name="concatemerfasta" label="Concatemer post-recombination filter" />
        <!--<data format="pdf" name="tree" label="Phylogenetic tree" />-->
    </outputs>
    <help>
This tools splits out the retained orthologs into separate files containing all orthologs per genome.

The produced orthologs per genome are also concatenated per genome to create an alignment of the orthologous genes 
across all genomes. 

This tool will fail if differences are found between the Taxon A IDs &amp; Taxon B IDs from before inter-taxon recombination
when compared with the taxon assignments post inter-taxon recombination filtering.
    </help>
</tool>

<tool id="divergence_align_trim_orthologs" name="Align &amp; Trim Orthologs">
    <description>in reading frame for further processing</description>
    <requirements>
        <requirement type="python-module">divergence</requirement>
    </requirements>
    <command interpreter="python">wrapper.py divergence.align_trim_orthologs $logfile
--orthologs-zip $dnazip
--retained-threshold $retainedthreshold
--aligned-zip $alignedzip
--trimmed-zip $trimmedzip
--stats $stats
</command>
    <inputs>
        <param format="zip" name="dnazip" type="data" label="Orthologous genes" />
        <param name="retainedthreshold" type="integer" label="Minimum % retained after trimmining alignment" min="0" max="100" value="90" optional="false">
            <help>Filter orthologs where less than a given percentage of sequence is retained after trimming alignment</help>
        </param>
    </inputs>
    <outputs>
        <data format="txt" name="logfile" label="Logfile for ${tool.name}" />
        <data format="tabular" name="stats" label="Ortholog trimming statistics" />
        <data format="zip" name="alignedzip" label="Aligned orthologs" />
        <data format="zip" name="trimmedzip" label="Trimmed orthologs" />
    </outputs>
    <help>
This tool aligns and trims orthologs in reading frame, and will allow you to filter out orthologs that retain less than a given percentage of their original length. 
Orthologs are aligned at the protein level using TranslatorX &amp; muscle, using the NCBI Bacterial, Archaeal and Plant Plastid Code translation table (11).
  </help>
</tool>

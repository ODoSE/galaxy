<tool id="divergence_filter_orthologs" name="Filter Orthologs">
	<description>Retain only orthologs suitable for further analysis</description>
	<requirements>
		<requirement type="python-module">divergence</requirement>
	</requirements>
	<command interpreter="python">wrapper.py divergence.filter_orthologs logfile
--genomes $genomes
--orthologs-zip= $dnazip

--filter-multiple-cogs
--filter-recombination
--retained-threshold=PERC

--trimmed-zip $trimmedzip
--concatemer-zip $concatemerzip
--stats $stats
</command>
	<inputs>
		<param format="txt" name="genomes" type="data" label="RefSeq project IDs file" />
		<param format="zip" name="dnazip" type="data" label="Orthologous genes" />
	</inputs>
	<outputs>
		<data format="zip" name="trimmedzip" label="Trimmed SICO genes" />
		<data format="zip" name="concatemerzip" label="SICO concatemers of genomes" />
		<data format="txt" name="stats" label="SICO cleanup statistics" />
	</outputs>
	<help>
This tool allows you to filter out orthologs in a number of different ways:

- when multiple COGs are assigned within an ortholog

- when there is evidence of recombination within an ortholog based upon phylogentic tree inspection

- when less than a given percentage of sequence is retained after alignment &amp; trimming alignment

In addition this tool will:

- carry over 'missing' COG annotations within ortholog files, if --filter-multiple-cogs is enabled

- concatenate the above trimmed SICO files for each genome into single concatemers files

- generates statistics on all the above processing steps
  </help>
</tool>
